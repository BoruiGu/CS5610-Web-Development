<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Week 10 - MySQL Insert</title>
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>       
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="13.js"></script>
</head>
<body>
    <div class="container" ng-app="InsertApp" ng-controller="InsertCtrl">
        <h2>Week 10 - MySQL Insert</h2>
        <p>
            In this experiment a new record is added to database using INSERT statement.<br />
            Values of the new record is passed in query string.<br />
            Click add then use "Show all students" to confirm that a new record is added.
        </p>
        <label>Name</label>
        <input type="text" ng-model="student.name" />
        <label>Major</label>
        <input type="text" ng-model="student.major" />
        <button ng-click="addStudent()">Add</button><br />
        <a class="lead" target="_blank" href="http://experiments-borui.rhcloud.com/api/students">Show all students</a>
    </div>
    <div class="container">
        <pre>
var url = require(&#39;url&#39;);
app.get(&#39;/api/addstudent&#39;, function (req, res) {
    var query = url.parse(req.url, true).query;
    connection.query(&#39;insert into student SET ?&#39;, query,
    function (err, rows, fields) {
        res.json(err);
    });
});
</pre>
        <p>Source Files:</p>
        <a target="_blank" href="https://github.com/BoruiGu/CS5610-OpenShift-Exp-Backup/blob/master/server.js">js</a>        
    </div>
</body>
</html>
